(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{254:function(e,t,r){"use strict";r.r(t);var s=r(2),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("div",{staticClass:"custom-block tip"},[r("p",[e._v("前言：针对 Python 中 celery 的使用方式的一些说明记录")])]),e._v(" "),r("h1",{attrs:{id:"celery运用方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#celery运用方法"}},[e._v("#")]),e._v(" celery运用方法")]),e._v(" "),r("h2",{attrs:{id:"下载"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[e._v("#")]),e._v(" 下载")]),e._v(" "),r("p",[e._v("1.redis-cli.exe")]),e._v(" "),r("p",[e._v("2.redis-server.exe")]),e._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装:")]),e._v(" "),r("p",[e._v("pip install celery")]),e._v(" "),r("p",[e._v("pip install flask_restful")]),e._v(" "),r("p",[e._v("pip install eventlet   (windows下安装)")]),e._v(" "),r("h2",{attrs:{id:"添加文件："}},[r("a",{staticClass:"header-anchor",attrs:{href:"#添加文件："}},[e._v("#")]),e._v(" 添加文件：")]),e._v(" "),r("p",[e._v("1.bootstrap.sh")]),e._v(" "),r("p",[e._v("2.celery_note.py")]),e._v(" "),r("p",[e._v("3.celery_worker.py")]),e._v(" "),r("h2",{attrs:{id:"更改app链接位置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#更改app链接位置"}},[e._v("#")]),e._v(" 更改app链接位置")]),e._v(" "),r("p",[e._v("添加")]),e._v(" "),r("p",[r("code",[e._v("import celery_note")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("app = Flask(__name__)\nwith app.app_context():\n    print(current_app.name)\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br")])]),r("p",[r("code",[e._v("app.register_blueprint(celery_note.test_blueprint, url_prefix='/test')")])]),e._v(" "),r("p",[e._v("注：把原链接删除（改为可传参***方法***）")]),e._v(" "),r("h2",{attrs:{id:"运行方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#运行方法"}},[e._v("#")]),e._v(" 运行方法")]),e._v(" "),r("h3",{attrs:{id:"windows"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[e._v("#")]),e._v(" windows:")]),e._v(" "),r("p",[e._v("1.运行：")]),e._v(" "),r("pre",[r("code",[e._v("redis-server.exe\n")])]),e._v(" "),r("p",[e._v("2.运行命令：")]),e._v(" "),r("pre",[r("code",[e._v("celery -A celery_worker.test_celery worker --pool=eventlet --loglevel=INFO\n")])]),e._v(" "),r("p",[e._v("3.运行.py 文件")]),e._v(" "),r("h3",{attrs:{id:"集群"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#集群"}},[e._v("#")]),e._v(" 集群:")]),e._v(" "),r("p",[e._v("1.运行：")]),e._v(" "),r("pre",[r("code",[e._v("redis-server.exe\n")])]),e._v(" "),r("p",[e._v("2."),r("strong",[e._v("运行命令")]),e._v("并"),r("strong",[e._v("运行.py 文件")]),e._v("：")]),e._v(" "),r("pre",[r("code",[e._v("celery -A celery_worker.test_celery worker --loglevel=INFO\n")])]),e._v(" "),r("h2",{attrs:{id:"测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[e._v("#")]),e._v(" 测试")]),e._v(" "),r("p",[e._v("1.做post请求（获取一个id）")]),e._v(" "),r("p",[e._v("2.做get请求（id）")])])}),[],!1,null,null,null);t.default=a.exports}}]);